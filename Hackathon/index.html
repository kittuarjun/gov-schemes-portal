<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gov Schemes Portal</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- Firebase SDKs -->
  <!-- Firebase SDKs (Mock Mode Active) -->
  <!-- 
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="firebase.js"></script>
  -->

  <!-- Mock Backend -->
  <script src="mock_firebase.js"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">GOV<span style="color:white">SCHEMES</span></div>
    <ul class="nav-links">
      <li><a href="#" id="homeLink" class="active">Home</a></li>
      <li><a href="#" id="aboutLink">About</a></li>
      <li><a href="#" id="dashboardLink">Dashboard</a></li>
    </ul>
    <button id="authBtn" class="btn-nav">Login</button>
  </nav>

  <!-- Main Container -->
  <div class="main-container">

    <!-- Login Section -->
    <section id="loginSection">
      <div class="auth-card">
        <h2>Welcome Back</h2>
        <form id="loginForm">
          <div class="input-group">
            <input type="email" id="loginEmail" placeholder="Email Address" required>
          </div>
          <div class="input-group">
            <input type="password" id="loginPassword" placeholder="Password" required>
          </div>
          <button type="submit" class="btn-primary">Login</button>
        </form>
        <p class="error-msg" id="loginMessage"></p>
        <p style="margin-top: 20px; color: var(--text-muted);">
          New here? <span class="text-link" id="showRegister">Create Account</span>
        </p>
      </div>
    </section>

    <!-- Register Section -->
    <section id="registerSection">
      <div class="auth-card">
        <h2>Join Portal</h2>
        <form id="registerForm">
          <div class="input-group">
            <input type="email" id="regEmail" placeholder="Email" required>
          </div>
          <div class="input-group">
            <input type="password" id="regPassword" placeholder="Password" required>
          </div>
          <div class="input-group">
            <input type="password" id="regConfirmPassword" placeholder="Confirm Password" required>
          </div>
          <!-- Combined Profile Info for Registration -->
          <div class="input-group">
            <input type="number" id="regAge" placeholder="Age" required>
          </div>
          <div class="input-group">
            <select id="regGender">
              <option value="male">Male</option>
              <option value="female">Female</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="input-group">
            <input type="number" id="regIncome" placeholder="Annual Income (‚Çπ)" required>
          </div>
          <div class="input-group">
            <select id="regOccupation">
              <option value="student">Student</option>
              <option value="farmer">Farmer</option>
              <option value="employed">Employed</option>
              <option value="unemployed">Unemployed</option>
            </select>
          </div>

          <button type="submit" class="btn-primary">Register</button>
        </form>
        <p class="error-msg" id="registerMessage"></p>
        <p style="margin-top: 20px; color: var(--text-muted);">
          Already a member? <span class="text-link" id="showLogin">Login</span>
        </p>
      </div>
    </section>

    <!-- Home Section -->
    <section id="homeSection" style="display: block;">
      <div class="hero">
        <h1>Bridging Citizens <br> to Government Benefits</h1>
        <p>One-stop platform to verify eligibility, discover schemes, and manage benefits transparently.</p>
        <button class="btn-primary" style="width: 200px;" id="getStartedBtn">Check Eligibility</button>
      </div>

      <div class="features">
        <div class="feature-card">
          <h3><i class="fas fa-search"></i> Smart Search</h3>
          <p>Find schemes tailored to your profile automatically.</p>
        </div>
        <div class="feature-card">
          <h3><i class="fas fa-bell"></i> Instant Alerts</h3>
          <p>Get notified immediately when new schemes match your criteria.</p>
        </div>
        <div class="feature-card">
          <h3><i class="fas fa-file-alt"></i> Easy Apply</h3>
          <p>Guidance on documentation and simple application steps.</p>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="aboutSection">
      <div class="hero">
        <h1>About Us</h1>
        <p>We are dedicated to eliminating information asymmetry. Our platform connects citizens directly with
          government initiatives, reducing reliance on middlemen and ensuring transparency.</p>
      </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboardSection">
      <div class="dashboard-grid">
        <!-- Profile Side -->
        <div class="profile-card">
          <h3>My Profile</h3>
          <form id="profileForm">
            <div class="input-group">
              <label style="font-size: 0.8rem; color: var(--accent);">Age</label>
              <input type="number" id="dashAge">
            </div>
            <div class="input-group">
              <label style="font-size: 0.8rem; color: var(--accent);">Income</label>
              <input type="number" id="dashIncome">
            </div>
            <div class="input-group">
              <label style="font-size: 0.8rem; color: var(--accent);">Occupation</label>
              <select id="dashOccupation">
                <option value="student">Student</option>
                <option value="farmer">Farmer</option>
                <option value="employed">Employed</option>
                <option value="unemployed">Unemployed</option>
              </select>
            </div>
            <button type="submit" class="btn-primary">Update & Re-scan</button>
          </form>
        </div>

        <!-- Schemes Side -->
        <div class="schemes-card">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
            <h3>Eligible Schemes</h3>
            <input type="text" id="schemeSearch" placeholder="üîç Search schemes..."
              style="padding:8px; border-radius:5px; border:1px solid rgba(255,255,255,0.2); background:rgba(255,255,255,0.1); color:white;">
          </div>
          <div id="eligibilityResults">
            <p style="color: var(--text-muted);">Loading schemes...</p>
          </div>
          <button id="downloadPDF" class="btn-primary"
            style="margin-top: 2rem; background: var(--accent); color: #000;">
            <i class="fas fa-download"></i> Download Report
          </button>
        </div>
      </div>
    </section>

  </div>

  <!-- Chatbot Widget -->
  <button class="chatbot-toggler" id="chatbotToggler">
    <i class="fas fa-comment-dots"></i>
  </button>

  <div class="chatbot-window" id="chatbotWindow">
    <div class="chat-header">
      <span>GovAssist Bot</span>
      <div>
        <i class="fas fa-trash" id="clearChat" style="cursor:pointer; margin-right:10px; font-size: 0.9rem;"
          title="Clear Chat"></i>
        <span style="cursor:pointer;" id="closeChat">√ó</span>
      </div>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="chat-msg bot">Hello! I can help you find schemes or answer questions. Type 'help' to start.</div>
    </div>
    <div class="chat-footer">
      <input type="text" id="chatInput" placeholder="Ask something... (e.g. 'Age 25, Income 50k')">
      <button id="chatSend"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>

  <script src="script.js"></script>

  <!-- Apply Modal -->
  <div id="applyModal"
    style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:5000; align-items:center; justify-content:center;">
    <div
      style="background:var(--bg-glass); backdrop-filter:blur(15px); padding:2rem; border-radius:15px; width:90%; max-width:400px; border:1px solid rgba(255,255,255,0.1); color:white;">
      <h3 style="color:var(--accent); margin-bottom:10px;">Easy Apply üìù</h3>
      <p style="margin-bottom:1rem;">Applying for: <strong id="applySchemeName" style="color:var(--primary);"></strong>
      </p>

      <form id="applyForm">
        <div style="margin-bottom:1rem;">
          <label style="font-size:0.8rem; color:#aaa;">Full Name</label>
          <input type="text" id="applyName" placeholder="Your Name" required
            style="width:100%; padding:10px; background:rgba(255,255,255,0.1); border:none; color:white; border-radius:5px;">
        </div>
        <div style="margin-bottom:1rem;">
          <label style="font-size:0.8rem; color:#aaa;">Email for Notification</label>
          <input type="email" id="applyEmail" placeholder="name@example.com" required
            style="width:100%; padding:10px; background:rgba(255,255,255,0.1); border:none; color:white; border-radius:5px;">
        </div>
        <div style="margin-bottom:1rem;">
          <label style="font-size:0.8rem; color:#aaa;">Confirm Age</label>
          <input type="number" id="applyAge" readonly
            style="width:100%; padding:10px; background:rgba(255,255,255,0.05); border:none; color:#aaa; border-radius:5px;">
        </div>
        <div style="display:flex; gap:10px;">
          <button type="button" id="closeApply"
            style="flex:1; padding:10px; background:transparent; border:1px solid #aaa; color:#aaa; border-radius:5px; cursor:pointer;">Cancel</button>
          <button type="submit"
            style="flex:1; padding:10px; background:var(--accent); border:none; color:black; font-weight:bold; border-radius:5px; cursor:pointer;">Submit</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toast-container" style="position:fixed; top:20px; right:20px; z-index:9999;"></div>
</body>

</html>